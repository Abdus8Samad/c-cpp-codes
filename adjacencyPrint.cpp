// 8 13 1 1
// 0 1 4
// 5 1 3
// 0 2 4
// 2 5 -2
// 3 0 3
// 3 2 2
// 2 4 4
// 4 3 1
// 5 4 -2
// 4 6 -2
// 7 4 -1
// 6 7 -1
// 6 5 4

// 0, 4, 4, 0, 0, 0, 0, 0 
// 0, 0, 0, 0, 0, 0, 0, 0
// 0, 0, 0, 0, 4, -2, 0, 0
// 3, 0, 2, 0, 0, 0, 0, 0
// 0, 0, 0, 1, 0, 0, -2, 0
// 0, 3, 0, 0, -2, 0, 0, 0
// 0, 0, 0, 0, 0, 4, 0, -1
// 0, 0, 0, 0, -1, 0, 0, 0

// 0, 4, 4, 3, 0, 0, 0, 0
// 4, 0, 0, 0, 0, 3, 0, 0
// 4, 0, 0, 2, 4, -2, 0, 0
// 3, 0, 2, 0, 1, 0, 0, 0
// 0, 0, 4, 1, 0, -2, -2, -1
// 0, 3, -2, 0, -2, 0, 4, 0 
// 0, 0, 0, 0, -2, 4, 0, -1
// 0, 0, 0, 0, -1, 0, -1, 0
#include <iostream>

using namespace std;

int main(){
    int v, e, isw, isdir;
    cin >> v >> e >> isw >> isdir;
    int edges[v][v];
    for(int i=0;i<v;i++){
        for(int j=0;j<v;j++){
            edges[i][j] = 0;
        }
    }
    for(int i=0;i<e;i++){
        int l, r, w, we;
        cin >> l >> r;
        if(isw){
            cin >> w;
            we = w;
        } else we = 1;
        edges[l][r] = we;
        if(isdir) edges[r][l] = we;
    }
    for(int i=0;i<v;i++){
        for(int j=0;j<v;j++){
            cout << edges[i][j] << ", ";
        }
        cout << "\n";
    }
}